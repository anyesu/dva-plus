(function(e){function t(t){for(var a,i,c=t[0],s=t[1],l=t[2],d=0,p=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={2:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://cdn.jsdelivr.net/gh/anyesu/dva-plus@gh-pages/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;o.push([0,3,4,0,1]),n()})({"/7QA":function(e,t,n){"use strict";n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return B})),n.d(t,"f",(function(){return W})),n.d(t,"a",(function(){return V})),n.d(t,"c",(function(){return K})),n.d(t,"b",(function(){return ee}));var a=n("KQm4"),r=n("o0o1"),o=n.n(r),i=n("VTBJ"),c=n("gSGL"),s=n("vJtL"),l=n("7EGn"),u=n("oTSI"),d=n("jeQL"),p=n("M1Wn"),m=n("rePB"),h=n("ODXe"),f="/",v={state:o.a.mark((function(e,t){var n;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,e.delegateYield(n(),"t0",2);case 2:return e.abrupt("return",e.t0);case 3:case"end":return e.stop()}}),n)}))},g={updateState:function(e,t){var n=t.type,a=t.payload,r=n.split(f),o=Object(h["a"])(r,1),c=o[0];return Object(i["a"])(Object(i["a"])({},e),{},Object(m["a"])({},c,Object(i["a"])(Object(i["a"])({},e[c]),a)))}},b={updateState:function(e,t){var n=t.payload;return Object(i["a"])(Object(i["a"])({},e),n)}};function E(e){var t;return null===(t=Object.entries(g).find((function(t){var n=Object(h["a"])(t,1),a=n[0];return e.endsWith("".concat(f).concat(a))})))||void 0===t?void 0:t[1]}function y(e){var t;return null===(t=Object.entries(b).find((function(t){var n=Object(h["a"])(t,1),a=n[0];return e===a})))||void 0===t?void 0:t[1]}var w=function(e,t){var n=o.a.mark(b),r=o.a.mark(y),u=o.a.mark(w),d=o.a.mark(k),p=o.a.mark(C),m=e.namespace,h=e.reducers,f=e.effects;function v(e){var t="".concat(m,"/").concat(e),n=t.replace(/\/@@[^/]+?$/,"");return(null===h||void 0===h?void 0:h[n])||(null===f||void 0===f?void 0:f[n])||E(n)?t:e}function g(e){var n=t.take;if(n)return Object(c["a"])(e)?n(v(e)):Array.isArray(e)?n(e.map((function(e){return Object(c["a"])(e)?v(e):e}))):n(e)}function b(e,a,r){var s;return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return s=Object(c["a"])(e)?{type:e,payload:a,callback:r}:e,n.next=3,t.put(Object(i["a"])(Object(i["a"])({payload:a},s),{},{type:v(s.type)}));case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),n)}function y(e){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,b({type:"updateState",payload:e});case 2:case"end":return t.stop()}}),r)}function w(e){return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.select((function(t){return t[e||m]}));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),u)}function k(){var e,n,r,i,c,u,p=arguments;return o.a.wrap((function(o){while(1)switch(o.prev=o.next){case 0:for(e=p.length,n=new Array(e),r=0;r<e;r++)n[r]=p[r];if(i=n[0],c=n.slice(1),!Object(s["a"])(i)){o.next=6;break}return o.next=5,t.select.apply(t,[i].concat(Object(a["a"])(c)));case 5:return o.abrupt("return",o.sent);case 6:return u=n[1],o.next=9,t.select((function(e){var t=e[u||m];return t&&i?Object(l["a"])(t,i):t}));case 9:return o.abrupt("return",o.sent);case 10:case"end":return o.stop()}}),d)}function C(){var e=arguments;return o.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.call.apply(t,e);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),p)}return Object(i["a"])(Object(i["a"])({},t),{},{call:C,put:b,update:y,select:k,state:w,take:g})},k=Object(u["a"])((function(e,t,n){var a,r=w(e,t);return(null===n||void 0===n||null===(a=n.onCommands)||void 0===a?void 0:a.call(n,r,e))||r}));function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(t,n,a){return o.a.mark((function r(i){var c;return o.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t(i,k(a,n,e));case 2:if(c=i.callback,!Object(s["a"])(c)){r.next=6;break}return r.next=6,c();case 6:case"end":return r.stop()}}),r)}))},n=function(e){return function(t,n){var a=n.type,r=void 0===a?"":a,o=y(r)||E(r)||e;return o(t,n)}},a=function(e,t,n){var a;null===(a=e.preventDefault)||void 0===a||a.call(e);var r=null===n||void 0===n?void 0:n.effectArgs,o=Array.isArray(r)&&r.length>0?r[0]:{},i=o.__dva_reject;Object(s["a"])(i)?i(e):Promise.reject({error:e,extension:n})},r=e.onEffect,i=void 0===r?t:r,c=e.onReducer,l=void 0===c?n:c,u=e.onError,m=void 0===u?a:u;return Object(d["a"])({onEffect:i,onReducer:l,onError:m},p["a"])}var x,A,j=n("6LIB"),O=n("vRGJ"),S=n.n(O);x||(x={}),A||(A={});var N=function(e,t){return Object(j["a"])(e)?Object.entries(e):t?[[e,t]]:[]};function I(e,t){var n=[],a=S()(e,n).exec(t);if(!a)return null;var r=a.slice(1);return n.reduce((function(e,t,n){var a=t.name;return Object(i["a"])(Object(i["a"])({},e),{},Object(m["a"])({},a,r[n]))}),{})}var z=function(e){return function(t,n){var a,r=t.dispatch,o=t.history,c=function(e,t){var n=N(e,t);n.length&&(a=o.listen((function(e){var t=e.pathname,a=e.query;n.forEach((function(n){var o=Object(h["a"])(n,2),c=o[0],l=o[1],u=I(c,t);u&&(Object(s["a"])(l)?l(Object(i["a"])(Object(i["a"])({},e),{},{query:a||{},params:u})):Object(j["a"])(l)&&r(l))}))})))};return e(Object(i["a"])(Object(i["a"])({},t),{},{listen:c}),n),a}},B=function(e){return Object.entries(e).reduce((function(e,t){var n=Object(h["a"])(t,2),a=n[0],r=n[1];return Object(i["a"])(Object(i["a"])({},e),{},Object(m["a"])({},a,z(r)))}),{})},P=n("DkC/"),L=n("2PMq"),R=n.n(L);function D(){if(!window.g_app)try{var e,t;window.g_app=null===(e=(t=n("ArA+")).getDvaApp)||void 0===e?void 0:e.call(t)}catch(a){}return window.g_app}window.setTimeout(D,0);var G,M,F,q,T,U,J=function(e,t,n){var a,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=null===(a=D())||void 0===a?void 0:a._store;if(o){var i=o.dispatch({type:e,payload:t,operationType:n});if(R()(i))return i.catch((function(e){if(r)return e;throw e}))}};J.slient=function(e,t,n){return J(e,t,n,!0)},G||(G={}),M||(M={}),F||(F={}),q||(q={}),T||(T={}),U||(U={});var _=function(e,t){var n="".concat(e).concat(f).concat(t),a=J.bind(null,n);return a.actionName=n,a.slient=J.slient.bind(null,n),a};function Y(e){return Array.isArray(e)?e[0]:e}var W=function(e,t){var n=e.namespace,a=e.state,r=e.effects,o=e.reducers,c=_.bind(null,n),s=(null===t||void 0===t?void 0:t({dispatchApi:c}))||{},l=Object.keys(s).concat(Object.keys(r||{})).concat(Object.keys(Object(i["a"])(Object(i["a"])({},Y(o)),g))),u=l.reduce((function(e,t){return Object(i["a"])(Object(i["a"])({},e),{},Object(m["a"])({},t,s[t]||c(t)))}),{});if(!Object(j["a"])(a))return u;var d=c("updateState"),p=c("state");return Object.keys(a).forEach((function(e){u["get".concat(Object(P["a"])(e))]=function(){return p().then((function(t){return null===t||void 0===t?void 0:t[e]}))},u["set".concat(Object(P["a"])(e))]=function(t){return d(Object(m["a"])({},e,t))}})),u},V=function(e,t){var n;return e.state=null!==(n=null!==t&&void 0!==t?t:e.state)&&void 0!==n?n:{},e.effects=Object(i["a"])(Object(i["a"])({},e.effects),v),e};function K(e){return function(t){return V(t,e)}}var H,Q,X,Z,$=function(e,t,n){var a=V(e,t),r=W(a,n);return{model:a,api:r}};function ee(e){return function(t,n){return $(t,e,n)}}H||(H={}),Q||(Q={}),X||(X={}),Z||(Z={})},"/epX":function(e,t){function n(){(function(e){e.forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e;null===(e=this.parentNode)||void 0===e||e.removeChild(this)}})}))})([Element.prototype,CharacterData.prototype,DocumentType.prototype])}n()},0:function(e,t,n){n("/epX"),e.exports=n("rjA5")},1:function(e,t){},"1QBj":function(e,t,n){},"4y8k":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n("YS25"),r={basename:"/"};window.routerBase&&(r.basename=window.routerBase);var o=Object({NODE_ENV:"production"}).__IS_SERVER?null:Object(a["a"])(r),i=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e||(o=Object(a["a"])(r)),o}},"6/j6":function(e){e.exports=JSON.parse('{"menus":{"en-US":{"/api":[{"path":"/api","title":"API","meta":{"order":3}}],"*":[{"path":"/","title":"dva-plus - A dva plugin for better dva development experience with TypeScript.","meta":{"order":10}}],"/docs":[{"path":"/docs","title":"Getting Started","meta":{"order":1}},{"path":"/docs/examples","title":"Examples","meta":{"order":2}}]},"zh-CN":{"/zh-CN/api":[{"path":"/zh-CN/api","title":"API","meta":{"order":3}}],"*":[{"path":"/zh-CN","title":"dva-plus - \u4e3a\u4e86\u66f4\u597d\u7684 dva \u5f00\u53d1\u4f53\u9a8c","meta":{"order":10}}],"/zh-CN/docs":[{"path":"/zh-CN/docs","title":"\u5feb\u901f\u4e0a\u624b","meta":{"order":1}},{"path":"/zh-CN/docs/examples","title":"\u6f14\u793a","meta":{"order":2}}]}},"locales":[{"name":"en-US","label":"English"},{"name":"zh-CN","label":"\u4e2d\u6587"}],"navs":{"en-US":[{"path":"/docs","title":"Docs","order":1},{"title":"API","order":2,"path":"/api"},{"title":"GitHub","path":"https://github.com/anyesu/dva-plus"},{"title":"Changelog","path":"https://github.com/anyesu/dva-plus/releases"}],"zh-CN":[{"path":"/zh-CN/docs","title":"\u6587\u6863","order":1},{"title":"API","order":2,"path":"/zh-CN/api"},{"title":"GitHub","path":"https://github.com/anyesu/dva-plus"},{"title":"\u66f4\u65b0\u65e5\u5fd7","path":"https://github.com/anyesu/dva-plus/releases"}]},"title":"dva-plus","mode":"site","repository":{"url":"https://github.com/anyesu/dva-plus","branch":"master"},"theme":{}}')},"8JGJ":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a);n("dEAq");t["default"]=function(){return r.a.createElement(r.a.Fragment,null)}},"8hfw":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("LtsZ"),r=new a["Plugin"]({validKeys:["modifyClientRenderOpts","patchRoutes","rootContainer","render","onRouteChange","dva"]})},DaN3:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a);n("dEAq");t["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement(r.a.Fragment,{children:n("gql7").default()})))}},EK5R:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));n("miYZ");var a,r,o=n("tsqr"),i=(n("+L6B"),n("2/Rp")),c=(n("/zsF"),n("PArb")),s=(n("BoS7"),n("Sdc0")),l=(n("bP8k"),n("gFTJ")),u=n("1OyB"),d=n("vuIU"),p=n("Ji7U"),m=n("LK+K"),h=n("q1tI"),f=n.n(h),v=n("/MKj"),g=n("G9dC"),b=(n("wLAj"),n("SsOy"),a=Object(v["c"])((function(e){var t=e.loading,n=e.commands;return{loading:t,commands:n}})),a(r=function(e){Object(p["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(u["a"])(this,n),t.apply(this,arguments)}return Object(d["a"])(n,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.commands,a=!!t.models.commands,r=!!t.effects[g["b"].testSelect.actionName];return f.a.createElement(f.a.Fragment,null,f.a.createElement(l["b"],{bordered:!0},f.a.createElement(l["b"].Item,{label:"Model state"},JSON.stringify(n)),f.a.createElement(l["b"].Item,{label:"Loading status"},f.a.createElement(s["a"],{checked:a,unCheckedChildren:"model",checkedChildren:"model",style:{marginRight:16,width:80}}),f.a.createElement(s["a"],{checked:r,unCheckedChildren:"testSelect",checkedChildren:"testSelect",style:{width:80}}))),f.a.createElement(c["a"],{orientation:"left"},"Basic"),f.a.createElement(i["a"].Group,null,f.a.createElement(i["a"],{onClick:function(){return g["b"].testPut()}},"testPut"),f.a.createElement(i["a"],{onClick:function(){return g["b"].testPut2()}},"testPut2"),f.a.createElement(i["a"],{onClick:function(){return g["b"].testCall()}},"testCall"),f.a.createElement(i["a"],{onClick:function(){return g["b"].testCall2()}},"testCall2"),f.a.createElement(i["a"],{onClick:function(){return g["b"].testSelect()}},"testSelect"),f.a.createElement(i["a"],{onClick:function(){return g["b"].testState().then(o["b"].info)}},"testState"),f.a.createElement(i["a"],{onClick:function(){return g["b"].testState2().then((function(e){return o["b"].info(JSON.stringify(e))}))}},"testState2"),f.a.createElement(i["a"],{onClick:function(){return g["b"].testUpdate()}},"testUpdate")),f.a.createElement(c["a"],{orientation:"left"},"Customize commands"),f.a.createElement(i["a"].Group,null,f.a.createElement(i["a"],{onClick:function(){return g["b"].testShowResult(!0)}},"testShowResult1"),f.a.createElement(i["a"],{onClick:function(){return g["b"].testShowResult(!1)}},"testShowResult2")))}}]),n}(h["Component"]))||r)},EUIJ:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("dEAq"),i=n("0zqC"),c=r.a.memo(n("zrGB").default["dumi-counter"].component),s=r.a.memo(n("zrGB").default["dumi-complex"].component),l=r.a.memo(n("zrGB").default["dumi-settergetter"].component),u=r.a.memo(n("zrGB").default["dumi-commands"].component),d=r.a.memo(n("zrGB").default["dumi-subscriptions"].component);t["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"\u57fa\u7840\u7528\u6cd5"},r.a.createElement(o["AnchorLink"],{to:"#\u57fa\u7840\u7528\u6cd5","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\u57fa\u7840\u7528\u6cd5")),r.a.createElement(i["default"],n("zrGB").default["dumi-counter"].previewerProps,r.a.createElement(c,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"\u8fdb\u9636\u7528\u6cd5"},r.a.createElement(o["AnchorLink"],{to:"#\u8fdb\u9636\u7528\u6cd5","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\u8fdb\u9636\u7528\u6cd5")),r.a.createElement(i["default"],n("zrGB").default["dumi-complex"].previewerProps,r.a.createElement(s,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"setget-\u8bbf\u95ee\u5668"},r.a.createElement(o["AnchorLink"],{to:"#setget-\u8bbf\u95ee\u5668","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"set/get \u8bbf\u95ee\u5668")),r.a.createElement(i["default"],n("zrGB").default["dumi-settergetter"].previewerProps,r.a.createElement(l,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"\u5185\u7f6e\u547d\u4ee4"},r.a.createElement(o["AnchorLink"],{to:"#\u5185\u7f6e\u547d\u4ee4","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\u5185\u7f6e\u547d\u4ee4")),r.a.createElement(i["default"],n("zrGB").default["dumi-commands"].previewerProps,r.a.createElement(u,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"\u8def\u7531\u53d8\u5316\u8ba2\u9605"},r.a.createElement(o["AnchorLink"],{to:"#\u8def\u7531\u53d8\u5316\u8ba2\u9605","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\u8def\u7531\u53d8\u5316\u8ba2\u9605")),r.a.createElement(i["default"],n("zrGB").default["dumi-subscriptions"].previewerProps,r.a.createElement(d,null))))}},FGIc:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("dEAq"),i=r.a.memo(n("lRgn").default),c=r.a.memo(n("Q/cD").default),s=r.a.memo(n("aLas").default);t["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"enhancers"},r.a.createElement(o["AnchorLink"],{to:"#enhancers","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"Enhancers")),r.a.createElement(i,null),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"utils"},r.a.createElement(o["AnchorLink"],{to:"#utils","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"Utils")),r.a.createElement(c,null),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"concepts"},r.a.createElement(o["AnchorLink"],{to:"#concepts","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"Concepts")),r.a.createElement(s,null)))}},G9dC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return m}));n("2qtc");var a,r=n("kLXV"),o=(n("miYZ"),n("tsqr")),i=n("o0o1"),c=n.n(i),s=n("/7QA");a||(a={});var l=function(e){return new Promise((function(t){return setTimeout((function(){return t(e)}),1e3*e)}))},u=function(e){return{success:e,message:e?"success":"fail",data:e?"this is success content":"this is fail content",code:e?"200":"9999"}},d=Object(s["b"])({count:0})({namespace:"commands",effects:{testPut:c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.put,r=Math.round(1e3*Math.random()),e.next=4,a("updateState",{count:r});case 4:case"end":return e.stop()}}),e)})),testPut2:c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.put,r=Math.round(1e3*Math.random()),e.next=4,a({type:"updateState",payload:{count:r}});case 4:case"end":return e.stop()}}),e)})),testCall:c.a.mark((function e(t,n){var a,r,i,s;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.call,e.delegateYield(a(l,1),"t0",2);case 2:return r=e.t0,e.next=5,a(l,3);case 5:return i=e.sent,e.next=8,l(2);case 8:s=e.sent,o["b"].info("testCall: ".concat(r," ").concat(i," ").concat(s));case 10:case"end":return e.stop()}}),e)})),testCall2:c.a.mark((function e(t,n){var a,r,i;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=function(e){o["b"].info("call with context - ".concat(e," - ").concat(JSON.stringify(this)))},a=n.call,i={a:123,fn:r},e.delegateYield(a([i,r],"test1"),"t0",4);case 4:return e.delegateYield(a({context:i,fn:r},"test2"),"t1",5);case 5:return e.delegateYield(a([i,"fn"],"test3"),"t2",6);case 6:case"end":return e.stop()}}),e)})),testSelect:c.a.mark((function e(t,n){var a,r,i;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.select,r=n.call,i=[],e.delegateYield(a(),"t0",3);case 3:return i[0]=e.t0,e.delegateYield(a("count"),"t1",5);case 5:return i[1]=e.t1,e.delegateYield(a("a.b.c"),"t2",7);case 7:return i[2]=e.t2,e.delegateYield(a("count2"),"t3",9);case 9:return i[3]=e.t3,e.delegateYield(a("enum","global"),"t4",11);case 11:return i[4]=e.t4,e.delegateYield(a("a.d.length","commands"),"t5",13);case 13:return i[5]=e.t5,e.delegateYield(a("enum","commands"),"t6",15);case 15:return i[6]=e.t6,e.delegateYield(a("enum.length","global"),"t7",17);case 17:return i[7]=e.t7,e.delegateYield(a("enum.length","global2"),"t8",19);case 19:return i[8]=e.t8,e.delegateYield(a((function(e,t){return o["b"].info("select func: ".concat(t," ").concat(JSON.stringify(e.commands))),e.global.enum}),123),"t9",21);case 21:return i[9]=e.t9,o["b"].info("testSelect: [".concat(i.map((function(e){return JSON.stringify(e)})).join(", "),"]")),e.delegateYield(r(l,1),"t10",24);case 24:case"end":return e.stop()}}),e)})),testState:c.a.mark((function e(t,n){var a,r,o;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.state,e.delegateYield(a(),"t0",2);case 2:return r=e.t0,o=r.count,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})),testState2:c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.state,e.delegateYield(a("commands"),"t0",2);case 2:return e.delegateYield(a("global"),"t1",3);case 3:return e.abrupt("return",e.t1);case 4:case"end":return e.stop()}}),e)})),testUpdate:c.a.mark((function e(t,n){var a,r;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.update,r=Math.round(1e3*Math.random()),e.next=4,a({count:r});case 4:case"end":return e.stop()}}),e)})),testShowResult:c.a.mark((function e(t,n){var a,o,i;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.payload,o=n.showResult,i=u(a),e.next=5,o({response:i,showError:!1,onError:function(e){var t=e.message,n=e.data;r["a"].error({title:t,content:n})}});case 5:case"end":return e.stop()}}),e)}))}}),p=d.model,m=d.api;t["c"]=p},GHxu:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var a,r,o=n("1OyB"),i=n("vuIU"),c=n("Ji7U"),s=n("LK+K"),l=n("q1tI"),u=n.n(l),d=n("/MKj"),p=n("Io6j"),m=(a=Object(d["c"])((function(e){var t=e.counter.count;return{count:t}})),a(r=function(e){Object(c["a"])(n,e);var t=Object(s["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(i["a"])(n,[{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("h2",null,this.props.count),u.a.createElement("button",{onClick:function(){return p["a"].add()},"data-action":"plus"},"+"),u.a.createElement("button",{onClick:function(){return p["a"].add(-1)},"data-action":"minus"},"-"),u.a.createElement("button",{onClick:function(){return p["a"].reset()},"data-action":"reset"},"reset"))}}]),n}(l["Component"]))||r)},Io6j:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("VTBJ"),r=n("o0o1"),o=n.n(r),i=n("/7QA"),c=Object(i["b"])()({namespace:"counter",state:{count:0},effects:{reset:o.a.mark((function e(t,n){var a;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=n.update,e.next=3,a({count:0});case 3:case"end":return e.stop()}}),e)}))},reducers:{add:function(e,t){var n=t.payload;return Object(a["a"])(Object(a["a"])({},e),{},{count:((null===e||void 0===e?void 0:e.count)||0)+(n||1)})}}}),s=c.model,l=c.api;t["b"]=s},Iwb1:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p}));var a,r=n("VTBJ"),o=n("q1tI"),i=n.n(o),c=n("dEAq");(function(e){e["any"]="any",e["boolean"]="boolean",e["number"]="number",e["string"]="string",e["object"]="object",e["Function"]="Function",e["undefined"]="undefined",e["null"]="null",e["void"]="void"})(a||(a={}));var s={"zh-CN":{name:"\u53c2\u6570",description:"\u63cf\u8ff0",type:"\u7c7b\u578b",default:"\u9ed8\u8ba4\u503c",required:"(\u5fc5\u9009)"},"en-US":{name:"Name",description:"Description",type:"Type",default:"Default",required:"(required)"}},l={config:{identifier:"config",type:"Model",required:!0},state:{identifier:"state",type:a.any,"description.zh-CN":"\u521d\u59cb\u503c",default:"{}"},getExtraApis:{identifier:"getExtraApis",type:"() => any",description:"Extra attributes for api","description.zh-CN":"\u6269\u5c55 api \u7684\u5c5e\u6027"},action:{identifier:"action",type:"Action",required:!0}},u=[{identifier:"enhanceModels",type:a.Function,description:"dva plugin to enable enhanced features.","description.zh-CN":"dva \u63d2\u4ef6\uff0c\u7528\u4e8e\u542f\u7528\u589e\u5f3a\u529f\u80fd\u3002",ref:"https://dvajs.com/API.html#app-use-hooks","ref.zh-CN":"https://dvajs.com/api/#app-use-hooks",args:[{identifier:"options",type:"Options"}],return:"Dva.Hooks"},{identifier:"Options",type:a.object,description:i.a.createElement(i.a.Fragment,null,"Options of ",i.a.createElement("code",null,"enhanceModels")," ."),"description.zh-CN":i.a.createElement(i.a.Fragment,null,i.a.createElement("code",null,"enhanceModels")," \u7684\u914d\u7f6e\u9879\u3002"),props:[{identifier:"onCommands",type:a.Function,description:i.a.createElement(i.a.Fragment,null,"Customize ",i.a.createElement(c["NavLink"],{to:"https://redux-saga.js.org/docs/api/"},"EffectCommands")," ."),"description.zh-CN":i.a.createElement(i.a.Fragment,null,"\u81ea\u5b9a\u4e49 ",i.a.createElement(c["NavLink"],{to:"https://redux-saga.js.org/docs/api/"},"EffectCommands")," \u3002")},{identifier:"onReducer",type:"Dva.Hook.OnReducer",description:"Override plugin's default behavior, set `null` to disable it.","description.zh-CN":"\u8986\u76d6\u63d2\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u8bbe\u7f6e\u503c\u4e3a `null` \u6765\u7981\u7528\u5b83\u3002"},{identifier:"onEffect",type:"Dva.Hook.OnEffect",description:"Override plugin's default behavior, set `null` to disable it.","description.zh-CN":"\u8986\u76d6\u63d2\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u8bbe\u7f6e\u503c\u4e3a `null` \u6765\u7981\u7528\u5b83\u3002"},{identifier:"onError",type:"Dva.Hook.OnError",description:"Override plugin's default behavior, set `null` to disable it.","description.zh-CN":"\u8986\u76d6\u63d2\u4ef6\u7684\u9ed8\u8ba4\u884c\u4e3a\uff0c\u8bbe\u7f6e\u503c\u4e3a `null` \u6765\u7981\u7528\u5b83\u3002"}]},{identifier:"enhanceSubscriptions",type:a.Function,description:"Enhance subscriptions.","description.zh-CN":"\u589e\u5f3a\u8ba2\u9605\u529f\u80fd\u3002",ref:"/docs/examples#subscriptions","ref.zh-CN":"/zh-CN/docs/examples#\u8def\u7531\u53d8\u5316\u8ba2\u9605",args:[{identifier:"subscriptions",type:"Record<string, EnhancedSubscription>",ref:"https://dvajs.com/API.html#subscriptions","ref.zh-CN":"https://dvajs.com/api/#subscriptions",required:!0}],return:"Subscriptions"}],d=[{identifier:"exportApi",type:a.Function,description:"Export model to an api.","description.zh-CN":"\u5bfc\u51fa model \u4e3a api \u3002",args:[{identifier:"model",type:"Model",required:!0},l.getExtraApis],return:"Api"},{identifier:"createModel",type:a.Function,description:"Create a model.","description.zh-CN":"\u521b\u5efa model \u3002",args:[l.config,l.state],return:"Model"},{identifier:"createModelWith",type:a.Function,description:i.a.createElement(i.a.Fragment,null,"Same as ",i.a.createElement("code",null,"createModel")," ."),"description.zh-CN":i.a.createElement(i.a.Fragment,null,"\u4e0e ",i.a.createElement("code",null,"createModel")," \u76f8\u540c\u3002"),args:[l.state],return:"(config) => Model"},{identifier:"createModelAndApi",type:a.Function,description:"Create a model and export an api.","description.zh-CN":"\u521b\u5efa model \u5e76\u5bfc\u51fa api\u3002",args:[l.config,l.state,l.getExtraApis],return:"({ model, api })"},{identifier:"createModelAndApiWith",type:a.Function,description:i.a.createElement(i.a.Fragment,null,"Same as ",i.a.createElement("code",null,"createModelAndApi")," ."),"description.zh-CN":i.a.createElement(i.a.Fragment,null,"\u4e0e ",i.a.createElement("code",null,"createModelAndApi")," \u76f8\u540c\u3002"),args:[l.state],return:"(config, getExtraApis?) => ({ model, api })"}],p=[{identifier:"Model",type:a.object,description:"Config of dva's model.","description.zh-CN":"dva \u7684 model \u914d\u7f6e\u3002",ref:"https://dvajs.com/API.html#model","ref.zh-CN":"https://dvajs.com/api/#model",props:[{identifier:"namespace",type:a.string,"description.zh-CN":"\u547d\u540d\u7a7a\u95f4",required:!0},l.state,{identifier:"effects","description.zh-CN":i.a.createElement(i.a.Fragment,null,"\u7528\u4e8e\u5904\u7406\u5f02\u6b65\u64cd\u4f5c\u548c\u4e1a\u52a1\u903b\u8f91\uff0c\u4e0d\u76f4\u63a5\u4fee\u6539 ",i.a.createElement("code",null,"state")),type:"Record<string, Effect>"},{identifier:"reducers","description.zh-CN":i.a.createElement(i.a.Fragment,null,"\u7528\u4e8e\u5904\u7406\u540c\u6b65\u64cd\u4f5c\uff0c\u552f\u4e00\u53ef\u4ee5\u4fee\u6539 ",i.a.createElement("code",null,"state")," \u7684\u5730\u65b9"),type:"Record<string, Reducer>"},{identifier:"subscriptions",type:"Record<string, Subscription>","description.zh-CN":"\u7528\u4e8e\u8ba2\u9605\u4e00\u4e2a\u6570\u636e\u6e90\uff0c\u6570\u636e\u6e90\u53ef\u4ee5\u662f\u5f53\u524d\u7684\u65f6\u95f4\u3001\u670d\u52a1\u5668\u7684 websocket \u8fde\u63a5\u3001keyboard \u8f93\u5165\u3001geolocation \u53d8\u5316\u3001history \u8def\u7531\u53d8\u5316\u7b49\u7b49\u3002"}]},{identifier:"Effect",type:a.Function,description:"In our applications, the most well-known side effect is asynchronous operation, it comes from the conception of functional programing, it is called side effect because it makes our function impure, and the same input may not result in the same output.","description.zh-CN":"Effect \u88ab\u79f0\u4e3a\u526f\u4f5c\u7528\uff0c\u5728\u6211\u4eec\u7684\u5e94\u7528\u4e2d\uff0c\u6700\u5e38\u89c1\u7684\u5c31\u662f\u5f02\u6b65\u64cd\u4f5c\u3002\u5b83\u6765\u81ea\u4e8e\u51fd\u6570\u7f16\u7a0b\u7684\u6982\u5ff5\uff0c\u4e4b\u6240\u4ee5\u53eb\u526f\u4f5c\u7528\u662f\u56e0\u4e3a\u5b83\u4f7f\u5f97\u6211\u4eec\u7684\u51fd\u6570\u53d8\u5f97\u4e0d\u7eaf\uff0c\u540c\u6837\u7684\u8f93\u5165\u4e0d\u4e00\u5b9a\u83b7\u5f97\u540c\u6837\u7684\u8f93\u51fa\u3002",ref:"https://dvajs.com/Concepts.html#effect","ref.zh-CN":"https://dvajs.com/guide/concepts.html#effect",args:[l.action,{identifier:"commands",type:"EffectCommands",required:!0}]},{identifier:"Reducer",type:a.Function,description:i.a.createElement(i.a.Fragment,null,"In dva, reducers accumulate current model's state. There are some things need to be notice that reducer must be pure function and every calculated data must be immutable data. support"," ",i.a.createElement(c["NavLink"],{to:"https://www.npmjs.com/package/dva-immer"},"dva-immer")," ."),"description.zh-CN":i.a.createElement(i.a.Fragment,null,"\u5728 dva \u4e2d\uff0creducers \u805a\u5408\u79ef\u7d2f\u7684\u7ed3\u679c\u662f\u5f53\u524d model \u7684 state \u5bf9\u8c61\u3002\u901a\u8fc7 actions \u4e2d\u4f20\u5165\u7684\u503c\uff0c\u4e0e\u5f53\u524d reducers \u4e2d\u7684\u503c\u8fdb\u884c\u8fd0\u7b97\u83b7\u5f97\u65b0\u7684\u503c\uff08\u4e5f\u5c31\u662f\u65b0\u7684 state\uff09\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f Reducer \u5fc5\u987b\u662f\u7eaf\u51fd\u6570\uff0c\u6240\u4ee5\u540c\u6837\u7684\u8f93\u5165\u5fc5\u7136\u5f97\u5230\u540c\u6837\u7684\u8f93\u51fa\uff0c\u5b83\u4eec\u4e0d\u5e94\u8be5\u4ea7\u751f\u4efb\u4f55\u526f\u4f5c\u7528\u3002\u5e76\u4e14\uff0c\u6bcf\u4e00\u6b21\u7684\u8ba1\u7b97\u90fd\u5e94\u8be5\u4f7f\u7528 immutable data\uff0c\u8fd9\u79cd\u7279\u6027\u7b80\u5355\u7406\u89e3\u5c31\u662f\u6bcf\u6b21\u64cd\u4f5c\u90fd\u662f\u8fd4\u56de\u4e00\u4e2a\u5168\u65b0\u7684\u6570\u636e\uff08\u72ec\u7acb\uff0c\u7eaf\u51c0\uff09\uff0c\u6240\u4ee5\u70ed\u91cd\u8f7d\u548c\u65f6\u95f4\u65c5\u884c\u8fd9\u4e9b\u529f\u80fd\u624d\u80fd\u591f\u4f7f\u7528\u3002\u652f\u6301"," ",i.a.createElement(c["NavLink"],{to:"https://www.npmjs.com/package/dva-immer"},"dva-immer")," \u3002"),ref:"https://dvajs.com/Concepts.html#reducer","ref.zh-CN":"https://dvajs.com/guide/concepts.html#reducer",args:[{identifier:"state",type:"State",required:!0},l.action],return:"State | ".concat(a.void)},{identifier:"Action",type:a.object,description:"Just like Redux's Action, in dva, action is a plain object that represents an intention to change the state. Actions are the only way to get data into the store. Any data, whether from UI events, network callbacks, or other sources such as WebSockets needs to eventually be dispatched as actions.action.","description.zh-CN":"Action \u662f\u4e00\u4e2a\u666e\u901a javascript \u5bf9\u8c61\uff0c\u5b83\u662f\u6539\u53d8 State \u7684\u552f\u4e00\u9014\u5f84\u3002\u65e0\u8bba\u662f\u4ece UI \u4e8b\u4ef6\u3001\u7f51\u7edc\u56de\u8c03\uff0c\u8fd8\u662f WebSocket \u7b49\u6570\u636e\u6e90\u6240\u83b7\u5f97\u7684\u6570\u636e\uff0c\u6700\u7ec8\u90fd\u4f1a\u901a\u8fc7 dispatch \u51fd\u6570\u8c03\u7528\u4e00\u4e2a action\uff0c\u4ece\u800c\u6539\u53d8\u5bf9\u5e94\u7684\u6570\u636e\u3002action \u5fc5\u987b\u5e26\u6709 type \u5c5e\u6027\u6307\u660e\u5177\u4f53\u7684\u884c\u4e3a\uff0c\u5176\u5b83\u5b57\u6bb5\u53ef\u4ee5\u81ea\u5b9a\u4e49\uff0c\u5982\u679c\u8981\u53d1\u8d77\u4e00\u4e2a action \u9700\u8981\u4f7f\u7528 dispatch \u51fd\u6570\u3002",ref:"https://dvajs.com/Concepts.html#action","ref.zh-CN":"https://dvajs.com/guide/concepts.html#action",props:[{identifier:"type",type:a.string,required:!0},{identifier:"payload",type:a.any},{identifier:"callback",type:a.Function,description:"Callback after Effect ends","description.zh-CN":"Effect \u7ed3\u675f\u540e\u56de\u8c03"}]},{identifier:"EffectCommands",type:"",description:"call | put | select | update | state",ref:"https://redux-saga.js.org/docs/api/"}];n("opjl");function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n&&e["".concat(t,".zh-CN")]||e[t]}function h(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=m(e,"ref",n);return(null===(t=a)||void 0===t?void 0:t.startsWith("/"))&&(a=window.location.origin+a),i.a.createElement(i.a.Fragment,null,e.identifier,a&&i.a.createElement(i.a.Fragment,null," ",i.a.createElement(c["NavLink"],{to:a})))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.a.createElement("p",null,m(e,"description",t))}var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(null===e||void 0===e?void 0:e.length))return null;var a=t?"zh-CN":"en-US",o=Object(r["a"])(Object(r["a"])({},s[a]),n[a]);return i.a.createElement("table",{style:{marginTop:24}},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,o.name),i.a.createElement("th",null,o.description),i.a.createElement("th",null,o.type),i.a.createElement("th",null,o.default))),i.a.createElement("tbody",null,e.map((function(e){return i.a.createElement("tr",{key:e.identifier},i.a.createElement("td",null,h(e,t)),i.a.createElement("td",null,m(e,"description",t)||"--"),i.a.createElement("td",null,i.a.createElement("code",null,e.type)),i.a.createElement("td",null,i.a.createElement("code",null,e.default||e.required&&o.required||"--")))}))))};function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,h(e,t)),f(e,t))}function b(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=null===(t=e.args)||void 0===t?void 0:t.map((function(e){var t=e.identifier,n=e.required;return"".concat(t).concat(n?"":"?")})),o="(".concat((null===r||void 0===r?void 0:r.join(", "))||"",") => ").concat(e.return||a.any);return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,h(e,n)),i.a.createElement("code",null,o),f(e,n),v(e.args,n))}function E(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("h3",null,h(e,t)),f(e,t),v(e.props,t,{"zh-CN":{name:"\u5c5e\u6027"}}))}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e.type){case a.Function:return b(e,t);case a.object:return E(e,t);default:return g(e,t)}}t["d"]=function(e){var t=e.data,n=Object(o["useContext"])(c["context"]),a=n.locale,r=void 0===a?"":a,s=/^zh|cn$/i.test(r);return i.a.createElement("div",{className:"markdown"},t.map((function(e){return i.a.createElement(o["Fragment"],{key:e.identifier},y(e,s))})))}},K8JR:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a);n("dEAq");t["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement(r.a.Fragment,{children:n("gql7").default()})))}},"Q/cD":function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("Iwb1");t["default"]=function(){return r.a.createElement(o["d"],{data:o["c"]})}},SsOy:function(e,t){},"W+ks":function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var a,r=n("HaE+"),o=n("VTBJ"),i=n("o0o1"),c=n.n(i),s=n("/7QA");a||(a={});var l=Object(s["b"])()({namespace:"global",state:{count:0,enum:"3"},effects:{count:c.a.mark((function(e,t){var n,a,r,o;return c.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.state,a=t.put,e.next=3,a("updateState",{enum:Math.round(3*Math.random()).toString()});case 3:return e.delegateYield(n(),"t0",4);case 4:return r=e.t0,o=r.count,e.abrupt("return",o);case 7:case"end":return e.stop()}}),o)})),testNoGenerator:function(e){var t=e.payload;return t}},reducers:{addCount:function(e,t){var n=t.payload;return Object(o["a"])(Object(o["a"])({},e),{},{count:((null===e||void 0===e?void 0:e.count)||0)+(n||1)})}}},(function(e){var t=e.dispatchApi;return{extraApi1:function(){var e=t("addCount");e(3)},extraApi2:function(e){return Object(r["a"])(c.a.mark((function t(){var n;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,d.getCount();case 2:return n=t.sent,t.abrupt("return",d.updateState({count:(n||0)+e}));case 4:case"end":return t.stop()}}),t)})))()},extraApi3:function(e){return d.addCount(e),"haha"}}})),u=l.model,d=l.api},Xq7l:function(e,t,n){"use strict";n.d(t,"f",(function(){return a["b"]})),n.d(t,"i",(function(){return r["a"]})),n.d(t,"c",(function(){return o["c"]})),n.d(t,"j",(function(){return o["d"]})),n.d(t,"l",(function(){return o["f"]})),n.d(t,"k",(function(){return o["e"]})),n.d(t,"d",(function(){return i["b"]})),n.d(t,"a",(function(){return c["a"]})),n.d(t,"g",(function(){return c["d"]})),n.d(t,"b",(function(){return c["b"]})),n.d(t,"e",(function(){return s["b"]})),n.d(t,"h",(function(){return l["b"]}));var a=n("4y8k"),r=n("8hfw"),o=n("/MKj"),i=n("aJnU"),c=n("G9dC"),s=(n("Io6j"),n("W+ks")),l=n("sXcH");n("bGsh"),n("bl45")},aJnU:function(e,t,n){"use strict";n.d(t,"b",(function(){return C})),n.d(t,"a",(function(){return x}));var a=n("1OyB"),r=n("vuIU"),o=n("Ji7U"),i=n("LK+K"),c=n("VTBJ"),s=n("q1tI"),l=n("LtsZ"),u=n("Hg0r"),d=n("Whig"),p=n("Xq7l"),m=n("G9dC"),h=n("Io6j"),f=n("W+ks"),v=n("sXcH"),g=n("bGsh"),b=n("bl45"),E=n("Quko"),y=n.n(E),w=null;function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=p["i"].applyPlugins({key:"dva",type:l["ApplyPluginsType"].modify,initialValue:{}});return w=Object(u["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])({history:p["f"]},t.config||{}),"undefined"!==typeof window&&window.g_useSSR?{initialState:window.g_initialProps}:{}),e||{})),w.use(Object(d["a"])()),w.use(y()()),Object(E["enableES5"])(),(t.plugins||[]).forEach((function(e){w.use(e)})),w.model(Object(c["a"])({namespace:"commands"},m["c"])),w.model(Object(c["a"])({namespace:"counter"},h["b"])),w.model(Object(c["a"])({namespace:"global"},f["a"])),w.model(Object(c["a"])({namespace:"other"},v["a"])),w.model(Object(c["a"])({namespace:"setterGetter"},g["b"])),w.model(Object(c["a"])({namespace:"subscriptions"},b["a"])),w}function C(){return w}var x=function(e){Object(o["a"])(n,e);var t=Object(i["a"])(n);function n(e){var r;return Object(a["a"])(this,n),r=t.call(this,e),"undefined"!==typeof window&&k(),r}return Object(r["a"])(n,[{key:"componentWillUnmount",value:function(){var e=C();e._models.forEach((function(t){e.unmodel(t.namespace)})),e._models=[];try{e=null}catch(t){console.error(t)}}},{key:"render",value:function(){var e=this,t=C();return t.router((function(){return e.props.children})),t.start()()}}]),n}(s["Component"])},aLas:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("Iwb1");t["default"]=function(){return r.a.createElement(o["d"],{data:o["a"]})}},bGsh:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a,r=n("/7QA");a||(a={});var o=Object(r["b"])({count:0})({namespace:"setterGetter"}),i=o.model,c=o.api;t["b"]=i},bl45:function(e,t,n){"use strict";var a=n("/7QA");t["a"]=Object(a["a"])({namespace:"subscriptions",subscriptions:Object(a["e"])({setup:function(e,t){var n=e.dispatch,a=e.history,r=e.listen;t("test Error",{data:"test"}),r("/:path*",(function(e){var t=e.query,n=e.params;console.groupCollapsed&&(console.groupCollapsed("subscriptions: /".concat(n.path||"")),console.log(a,t),console.groupEnd())})),r("/user/list",{type:"fetchUsers"}),r("/user/:id",{type:"fetchUser"}),r("/user/query",(function(e){var t=e.params;n({type:"fetchUsers",payload:t})})),r({"/user/list":function(){},"/user/query":function(){}})}})})},cXEf:function(e,t,n){"use strict";n.r(t);n("bl45");t["default"]=function(){return"View logs in DevTools"}},gql7:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("dEAq"),i=n("ZpkN");t["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h1",{id:"welcome-to-dva-plus-"},r.a.createElement(o["AnchorLink"],{to:"#welcome-to-dva-plus-","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"Welcome to dva-plus \ud83d\udc4b"),r.a.createElement("p",{align:"center"},r.a.createElement(o["Link"],{to:"https://npmcharts.com/compare/dva-plus?minimal=true"},r.a.createElement("img",{alt:"Downloads per month",src:"https://img.shields.io/npm/dm/dva-plus.svg",height:20})),r.a.createElement(o["Link"],{to:"https://www.npmjs.com/package/dva-plus"},r.a.createElement("img",{alt:"NPM Version",src:"https://img.shields.io/npm/v/dva-plus.svg",height:20})),r.a.createElement(o["Link"],{to:"https://david-dm.org/anyesu/dva-plus"},r.a.createElement("img",{alt:"Dependencies",src:"https://img.shields.io/david/anyesu/dva-plus.svg",height:20})),r.a.createElement(o["Link"],{to:"https://github.com/anyesu/dva-plus/graphs/contributors"},r.a.createElement("img",{alt:"Contributors",src:"https://img.shields.io/github/contributors/anyesu/dva-plus.svg",height:20})),r.a.createElement(o["Link"],{to:"https://github.com/anyesu/dva-plus"},r.a.createElement("img",{alt:"License",src:"https://github.com/anyesu/dva-plus/blob/main/LICENSE",height:20})),r.a.createElement(o["Link"],{to:"https://conventionalcommits.org/"},r.a.createElement("img",{alt:"Conventional Commits",src:"https://img.shields.io/badge/Conventional%20Commits-1.0.0-yellow.svg",height:20})),r.a.createElement(o["Link"],{to:"https://github.com/semantic-release/semantic-release"},r.a.createElement("img",{alt:"semantic-release",src:"https://img.shields.io/badge/%20%20%F0%9F%93%A6%F0%9F%9A%80-semantic--release-e10079.svg",height:20})),r.a.createElement(o["Link"],{to:"https://github.com/anyesu/dva-plus"},r.a.createElement("img",{alt:"visitors",src:"https://visitor-badge.glitch.me/badge?page_id=anyesu/dva-plus",height:20})),r.a.createElement(o["Link"],{to:"https://github.com/umijs/father"},r.a.createElement("img",{alt:"build with father",src:"https://img.shields.io/badge/build%20with-father--build-blue",height:20})),r.a.createElement(o["Link"],{to:"https://github.com/umijs/dumi"},r.a.createElement("img",{alt:"dumi",src:"https://img.shields.io/badge/docs%20by-dumi-blue",height:20}))),r.a.createElement("p",null,r.a.createElement(o["Link"],{to:"https://npmjs.org/package/dva-plus"},r.a.createElement("img",{src:"https://nodei.co/npm/dva-plus.png",alt:"dva-plus"}))),r.a.createElement("blockquote",null,r.a.createElement("p",null,"A dva plugin for better dva development experience with TypeScript")),r.a.createElement("p",null,r.a.createElement(o["AnchorLink"],{to:"#-features"})),r.a.createElement("h2",{id:"-features"},r.a.createElement(o["AnchorLink"],{to:"#-features","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\u2728 Features"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u26a1 ",r.a.createElement("strong",null,"Easy to learn and use:")," Fully compatible with dva's usage"),r.a.createElement("li",null,"\ud83d\udce6 ",r.a.createElement("strong",null,"Out of the Box"),": A set of utilities"),r.a.createElement("li",null,"\ud83d\udca1 ",r.a.createElement("strong",null,"TypeScript:")," Complete type definition files"),r.a.createElement("li",null,"\ud83c\udf5a ",r.a.createElement("strong",null,"Support umi"))),r.a.createElement("details",null,r.a.createElement("summary",null,"\ud83d\udcd6 Table of Contents"),r.a.createElement("p",null,r.a.createElement(o["AnchorLink"],{to:"#table-of-contents"})),r.a.createElement("h2",{id:"table-of-contents"},r.a.createElement(o["AnchorLink"],{to:"#table-of-contents","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"Table of Contents"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o["AnchorLink"],{to:"#-features"},"\u2728 Features")),r.a.createElement("li",null,r.a.createElement(o["AnchorLink"],{to:"#-installation"},"\ud83d\udce6 Installation")),r.a.createElement("li",null,r.a.createElement(o["AnchorLink"],{to:"#-usage"},"\ud83d\ude80 Usage")),r.a.createElement("li",null,r.a.createElement(o["AnchorLink"],{to:"#-documentation"},"\ud83d\udcd6 Documentation")),r.a.createElement("li",null,r.a.createElement(o["AnchorLink"],{to:"#-contributing"},"\ud83d\udc65 Contributing")),r.a.createElement("li",null,r.a.createElement(o["AnchorLink"],{to:"#-show-your-support"},"\ud83d\ude4f Show your support")),r.a.createElement("li",null,r.a.createElement(o["AnchorLink"],{to:"#-license"},"\ud83d\udcdd License")))),r.a.createElement("p",null,r.a.createElement(o["AnchorLink"],{to:"#-installation"})),r.a.createElement("h2",{id:"-installation"},r.a.createElement(o["AnchorLink"],{to:"#-installation","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\ud83d\udce6 Installation"),r.a.createElement(i["a"],{code:"npm install dva-plus\n",lang:"shell"}),r.a.createElement("p",null,r.a.createElement(o["AnchorLink"],{to:"#-usage"})),r.a.createElement("h2",{id:"-usage"},r.a.createElement(o["AnchorLink"],{to:"#-usage","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\ud83d\ude80 Usage"),r.a.createElement("blockquote",null,r.a.createElement("p",null,"Make sure you have already understood the usage of dva ( ",r.a.createElement(o["Link"],{to:"https://dvajs.com/guide/getting-started.html"},"docs")," )")),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("p",null,"create a model:"),r.a.createElement(i["a"],{code:"// @/models/counter.ts\n\nimport { Action, createModelAndApiWith } from 'dva-plus';\n\ndeclare module 'react-redux' {\n  // Use module augmentation to append DefaultRootState's type definition\n  // ref: https://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation\n  export interface DefaultRootState {\n    counter: CounterState;\n  }\n}\n\ninterface CounterState {\n  count: number;\n}\n\nexport const { model, api } = createModelAndApiWith<CounterState>()({\n  namespace: 'counter',\n  state: { count: 0 },\n  effects: {\n    *reset(_, { update }) {\n      yield update({ count: 0 });\n    },\n  },\n  reducers: {\n    add(state, { payload }: Action<number | undefined>) {\n      return { ...state, count: (state?.count || 0) + (payload || 1) };\n    },\n  },\n});\n\nexport default model;\n",lang:"typescript"})),r.a.createElement("li",null,r.a.createElement("p",null,"use model without ",r.a.createElement("code",null,"dispatch")," :"),r.a.createElement(i["a"],{code:"// demo.tsx\n\nimport React, { Component } from 'react';\nimport { connect } from 'dva';\nimport { api } from '@/models/counter';\n\ninterface Props {\n  count?: number;\n}\n\n@connect<Props>(({ counter: { count } }) => ({ count }))\nexport default class extends Component<Props> {\n  render() {\n    return (\n      <div>\n        <h2>{this.props.count}</h2>\n        <button onClick={() => api.add()}>+</button>\n        <button onClick={() => api.add(-1)}>-</button>\n        <button onClick={() => api.reset()}>reset</button>\n      </div>\n    );\n  }\n}\n",lang:"typescript"}))),r.a.createElement("p",null,r.a.createElement(o["AnchorLink"],{to:"#-documentation"})),r.a.createElement("h2",{id:"-documentation"},r.a.createElement(o["AnchorLink"],{to:"#-documentation","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\ud83d\udcd6 Documentation"),r.a.createElement("p",null,"\ud83d\udc49 The full documentation and demos are available ",r.a.createElement(o["Link"],{to:"https://dva-plus.js.org/"},"here"),"."),r.a.createElement("p",null,r.a.createElement(o["AnchorLink"],{to:"#-contributing"})),r.a.createElement("h2",{id:"-contributing"},r.a.createElement(o["AnchorLink"],{to:"#-contributing","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\ud83d\udc65 Contributing"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"center"},r.a.createElement(o["Link"],{to:"https://github.com/anyesu"},r.a.createElement("img",{alt:"anyesu",src:"https://avatars0.githubusercontent.com/u/13103906?v=4",width:100}))),r.a.createElement("th",{align:"center"},r.a.createElement(o["Link"],{to:"https://github.com/anyesu/dva-plus/blob/main/CONTRIBUTING.md"},r.a.createElement("img",{alt:"You?",src:"https://joeschmoe.io/api/v1/random",width:100}))))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},r.a.createElement(o["Link"],{to:"https://github.com/anyesu"},"anyesu")),r.a.createElement("td",{align:"center"},r.a.createElement(o["Link"],{to:"https://github.com/anyesu/dva-plus/blob/main/CONTRIBUTING.md"},"You?"))),r.a.createElement("tr",null,r.a.createElement("td",{align:"center"},"\ud83d\udd25"),r.a.createElement("td",{align:"center"})))),r.a.createElement("p",null,"Contributions, issues and feature requests are welcome!",r.a.createElement("br",null),"Feel free to check ",r.a.createElement(o["Link"],{to:"https://github.com/anyesu/dva-plus/issues"},"issues page"),". You can also take a look at the ",r.a.createElement(o["Link"],{to:"https://github.com/anyesu/dva-plus/blob/main/CONTRIBUTING.md"},"contributing guide"),"."),r.a.createElement("p",null,r.a.createElement(o["AnchorLink"],{to:"#-show-your-support"})),r.a.createElement("h2",{id:"-show-your-support"},r.a.createElement(o["AnchorLink"],{to:"#-show-your-support","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\ud83d\ude4f Show your support"),r.a.createElement("p",null,"Give a \u2b50\ufe0f if this project helped you!"),r.a.createElement("p",null,r.a.createElement(o["AnchorLink"],{to:"#-license"})),r.a.createElement("h2",{id:"-license"},r.a.createElement(o["AnchorLink"],{to:"#-license","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\ud83d\udcdd License"),r.a.createElement("p",null,"Copyright \xa9 2020 ",r.a.createElement(o["Link"],{to:"https://github.com/anyesu"},"anyesu"),".",r.a.createElement("br",null),"This project is ",r.a.createElement(o["Link"],{to:"https://github.com/anyesu/dva-plus/blob/main/LICENSE"},"MIT")," licensed."),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("em",null,"This README was generated with \u2764\ufe0f by ",r.a.createElement(o["Link"],{to:"https://github.com/andreasbm/readme"},"@appnest/readme")))))}},jqvo:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a);n("dEAq");t["default"]=function(){return r.a.createElement(r.a.Fragment,null)}},lF6S:function(e){e.exports=JSON.parse("{}")},lRgn:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("Iwb1");t["default"]=function(){return r.a.createElement(o["d"],{data:o["b"]})}},mcmL:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("dEAq"),i=r.a.memo(n("lRgn").default),c=r.a.memo(n("Q/cD").default),s=r.a.memo(n("aLas").default);t["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"\u589e\u5f3a"},r.a.createElement(o["AnchorLink"],{to:"#\u589e\u5f3a","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\u589e\u5f3a")),r.a.createElement(i,null),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"\u5de5\u5177"},r.a.createElement(o["AnchorLink"],{to:"#\u5de5\u5177","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\u5de5\u5177")),r.a.createElement(c,null),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"\u6982\u5ff5"},r.a.createElement(o["AnchorLink"],{to:"#\u6982\u5ff5","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"\u6982\u5ff5")),r.a.createElement(s,null)))}},opjl:function(e,t,n){},q5zh:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("dEAq"),i=n("0zqC"),c=r.a.memo(n("zrGB").default["dumi-counter"].component),s=r.a.memo(n("zrGB").default["dumi-complex"].component),l=r.a.memo(n("zrGB").default["dumi-settergetter"].component),u=r.a.memo(n("zrGB").default["dumi-commands"].component),d=r.a.memo(n("zrGB").default["dumi-subscriptions"].component);t["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"basic"},r.a.createElement(o["AnchorLink"],{to:"#basic","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"Basic")),r.a.createElement(i["default"],n("zrGB").default["dumi-counter"].previewerProps,r.a.createElement(c,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"advanced"},r.a.createElement(o["AnchorLink"],{to:"#advanced","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"Advanced")),r.a.createElement(i["default"],n("zrGB").default["dumi-complex"].previewerProps,r.a.createElement(s,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"settergetter"},r.a.createElement(o["AnchorLink"],{to:"#settergetter","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"SetterGetter")),r.a.createElement(i["default"],n("zrGB").default["dumi-settergetter"].previewerProps,r.a.createElement(l,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"commands"},r.a.createElement(o["AnchorLink"],{to:"#commands","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"Commands")),r.a.createElement(i["default"],n("zrGB").default["dumi-commands"].previewerProps,r.a.createElement(u,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"subscriptions"},r.a.createElement(o["AnchorLink"],{to:"#subscriptions","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:["icon","icon-link"]})),"Subscriptions")),r.a.createElement(i["default"],n("zrGB").default["dumi-subscriptions"].previewerProps,r.a.createElement(d,null))))}},rjA5:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"rootContainer",(function(){return l}));n("Xn8V"),n("6spV"),n("wpse"),n("KUpu"),n("8OGu"),n("LtxK"),n("n7Qr"),n("VQRL"),n("SGZ1"),n("nEGZ"),n("IC/V"),n("H8Ov"),n("aHGi"),n("M5u2"),n("0O5u"),n("Xf/b"),n("5qeZ"),n("QpGB"),n("NYJX"),n("CWID"),n("ehAy"),n("mLN8"),n("YJpY"),n("7V/p"),n("dLjG"),n("fF/C"),n("CDr+"),n("FbcW"),n("oNMB"),n("wwZZ"),n("+l9e"),n("yxVd"),n("vnQr"),n("5Blz"),n("X6vt"),n("hilM"),n("wdPq"),n("u6eR"),n("v/6r"),n("fDrP"),n("1vuE"),n("Q3OH"),n("p2Qn"),n("nDqD"),n("4rKd"),n("X5kU"),n("maeH"),n("4Mzw"),n("Pp3M"),n("v0/P"),n("CkqQ"),n("5QGz"),n("66pj"),n("JDCn"),n("ls3p"),n("sPVm"),n("AGcU"),n("sdAH"),n("CSFr"),n("GYRj"),n("Bnwu"),n("kP48"),n("NEdc"),n("JnaH"),n("MRpI"),n("EgRx"),n("/8Wl"),n("oLb5"),n("rS2G"),n("bDgo"),n("eCOq"),n("uVHs"),n("ReSd"),n("pkYH"),n("izsi"),n("lSoN"),n("xtlo"),n("p1ln"),n("ZahQ"),n("nZC5"),n("HjuX"),n("pZem"),n("A9H8"),n("DMUC"),n("B/G0"),n("DVom"),n("v3oe"),n("9zP7"),n("T/5g"),n("rE4C"),n("Sb5z"),n("Pq08"),n("Dyhc"),n("WQuA"),n("y4z8"),n("jhyg"),n("uNG7"),n("Qqe/"),n("J428"),n("s1ay"),n("Rw1i"),n("quHW"),n("YjZU"),n("uln6"),n("sgqd"),n("zsCH"),n("WIyh"),n("cnT9"),n("D1Ff"),n("WlFw"),n("QxII"),n("NHo6"),n("O9az"),n("b8+j"),n("nlPz"),n("2KAr"),n("3dhw"),n("zTPR"),n("m71J"),n("rpUR"),n("EnLX"),n("9/ry"),n("KvPC"),n("z9fm"),n("43iI"),n("mcGr"),n("8DXf"),n("OmS+"),n("rUU2"),n("6cL7"),n("ZDb2"),n("EOz7"),n("JI6M"),n("beyn"),n("A+b4"),n("Yanh"),n("Rbmm"),n("M1bg"),n("9Y4n"),n("yZgL"),n("hwEt"),n("xxWa"),n("R3M+"),n("bkVK"),n("aKgm"),n("PDVC"),n("P84e"),n("AQ/w"),n("3Us1"),n("eP3D"),n("Mn2j"),n("BtTS"),n("yiTY"),n("Uc1W"),n("y36+"),n("gweS"),n("URK0"),n("gVIt"),n("lV6h"),n("waHm"),n("RVXi"),n("Lj+q"),n("IVhM"),n("WU/Z"),n("1jPx"),n("8Lo7"),n("Iw+M"),n("FIIH"),n("p/G/"),n("oat3"),n("BLTA"),n("I5+W"),n("PaaY"),n("JO4c"),n("eDW+"),n("rtIu"),n("jGFG"),n("NId1"),n("IUJg"),n("F1NP"),n("ti1D"),n("NQz/"),n("UHn5"),n("/vMi"),n("nkhd"),n("+u1y"),n("9BQv"),n("Tz1E"),n("U9fH"),n("+4le"),n("jIZW"),n("oYEA"),n("7yTQ"),n("jHRr"),n("Rka6"),n("8Ubs"),n("FK48"),n("Auwt"),n("KAxK"),n("/0sN"),n("VvX1"),n("2aV/"),n("aKtI"),n("VUky"),n("9bAj"),n("xF6R"),n("Dbv2"),n("KHCi"),n("i/DM"),n("hYqy"),n("JXee"),n("+Hw1"),n("FBts"),n("3UWB"),n("S5nV"),n("xD7I"),n("aNdP"),n("UIoa"),n("Osgv"),n("FKIO"),n("Sf9Y"),n("VuYY"),n("ue5M"),n("80Z6"),n("qkSU"),n("xaQh"),n("GPZX"),n("eCow"),n("/R3g"),n("0pSW"),n("85tw"),n("UvYY"),n("DVoG"),n("aLaE"),n("fQri"),n("RDHo"),n("9Rzw"),n("iMhB"),n("/mKc"),n("u6Ie"),n("9znl"),n("+GPJ"),n("haHa"),n("RhWa"),n("PUJJ"),n("YceZ"),n("jksQ"),n("FuvP"),n("Uq4z"),n("+2a4"),n("Gw+j"),n("CO2k"),n("rVgK"),n("ecuC"),n("HQPm"),n("IbaC"),n("s00F"),n("V0Bj"),n("hwEL"),n("d/5L"),n("oJGl"),n("6FCX"),n("OAmA"),n("p6E5"),n("Xxk+"),n("L5O0"),n("bcvT"),n("CRpX"),n("aRU8"),n("p5yU"),n("dnZx"),n("NMu4"),n("5JgN"),n("VWci");var r=n("8hfw"),o=n("wLAj"),i=n("q1tI"),c=n.n(i),s=n("aJnU");function l(e){return c.a.createElement(s["a"],null,e)}r["a"].register({apply:o,path:"K:/github/anyesu/dva-plus2/dumi/src/app.ts"}),r["a"].register({apply:a,path:"K:/github/anyesu/dva-plus2/dumi/src/.umi-production/plugin-dva/runtime.tsx"});var u=n("4y8k"),d=n("LtsZ"),p=n("zlVK");function m(){var e=[{path:"/~demos/:uuid",layout:!1,wrappers:[n("KcUY").default],component:function(e){var t=n("q1tI"),a=n("F4QJ").default(e);switch(a.length){case 1:return a[0];case 2:return t.createElement(n("0zqC").default,a[0],a[1]);default:return"Demo ".concat(uuid," not found :(")}}},{path:"/_demos/:uuid",redirect:"/~demos/:uuid"},{__dumiRoot:!0,layout:!1,path:"/",wrappers:[n("KcUY").default,n("JBu9").default],routes:[{path:"/api",component:n("FGIc").default,exact:!0,meta:{filePath:"docs/api.md",updatedTime:1612274329e3,title:"API",order:3,nav:{title:"API",order:2,path:"/api"},toc:"menu",slugs:[{depth:2,value:"Enhancers",heading:"enhancers"},{depth:2,value:"Utils",heading:"utils"},{depth:2,value:"Concepts",heading:"concepts"}]},title:"API"},{path:"/zh-CN/api",component:n("mcmL").default,exact:!0,meta:{filePath:"docs/api.zh-CN.md",updatedTime:1612274329e3,title:"API",order:3,nav:{title:"API",order:2,path:"/zh-CN/api"},toc:"menu",slugs:[{depth:2,value:"\u589e\u5f3a",heading:"\u589e\u5f3a"},{depth:2,value:"\u5de5\u5177",heading:"\u5de5\u5177"},{depth:2,value:"\u6982\u5ff5",heading:"\u6982\u5ff5"}],locale:"zh-CN"},title:"API"},{path:"/",component:n("8JGJ").default,exact:!0,meta:{filePath:"docs/index.md",updatedTime:1609654797e3,title:"dva-plus - A dva plugin for better dva development experience with TypeScript.",order:10,hero:{title:"dva-plus",desc:'<div class="markdown"><p>\ud83d\udee0\ufe0f A dva plugin for better dva development experience with TypeScript.</p></div>',actions:[{text:"Getting Started",link:"/docs"}]},footer:'<div class="markdown"><p>Open-source MIT Licensed | Copyright \xa9 2020-present<br />Powered by <a href="https://d.umijs.org/" target="_blank">dumi<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div>',slugs:[]},title:"dva-plus - A dva plugin for better dva development experience with TypeScript."},{path:"/zh-CN",component:n("jqvo").default,exact:!0,meta:{filePath:"docs/index.zh-CN.md",updatedTime:1609654797e3,title:"dva-plus - \u4e3a\u4e86\u66f4\u597d\u7684 dva \u5f00\u53d1\u4f53\u9a8c",order:10,hero:{title:"dva-plus",desc:'<div class="markdown"><p>\ud83d\udee0\ufe0f \u4e3a\u4e86\u66f4\u597d\u7684 dva \u5f00\u53d1\u4f53\u9a8c</p></div>',actions:[{text:"\u5feb\u901f\u4e0a\u624b",link:"/zh-CN/docs"}]},footer:'<div class="markdown"><p>Open-source MIT Licensed | Copyright \xa9 2020-present<br />Powered by <a href="https://d.umijs.org/" target="_blank">dumi<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div>',slugs:[],locale:"zh-CN"},title:"dva-plus - \u4e3a\u4e86\u66f4\u597d\u7684 dva \u5f00\u53d1\u4f53\u9a8c"},{path:"/docs/examples",component:n("q5zh").default,exact:!0,meta:{filePath:"docs/docs/examples.md",updatedTime:1611241353e3,title:"Examples",order:2,toc:"menu",slugs:[{depth:2,value:"Basic",heading:"basic"},{depth:2,value:"Advanced",heading:"advanced"},{depth:2,value:"SetterGetter",heading:"settergetter"},{depth:2,value:"Commands",heading:"commands"},{depth:2,value:"Subscriptions",heading:"subscriptions"}],nav:{path:"/docs",title:"Docs"}},title:"Examples"},{path:"/zh-CN/docs/examples",component:n("EUIJ").default,exact:!0,meta:{filePath:"docs/docs/examples.zh-CN.md",updatedTime:1611834605e3,title:"\u6f14\u793a",order:2,toc:"menu",slugs:[{depth:2,value:"\u57fa\u7840\u7528\u6cd5",heading:"\u57fa\u7840\u7528\u6cd5"},{depth:2,value:"\u8fdb\u9636\u7528\u6cd5",heading:"\u8fdb\u9636\u7528\u6cd5"},{depth:2,value:"set/get \u8bbf\u95ee\u5668",heading:"setget-\u8bbf\u95ee\u5668"},{depth:2,value:"\u5185\u7f6e\u547d\u4ee4",heading:"\u5185\u7f6e\u547d\u4ee4"},{depth:2,value:"\u8def\u7531\u53d8\u5316\u8ba2\u9605",heading:"\u8def\u7531\u53d8\u5316\u8ba2\u9605"}],locale:"zh-CN",nav:{path:"/zh-CN/docs",title:"\u6587\u6863"}},title:"\u6f14\u793a"},{path:"/docs",component:n("DaN3").default,exact:!0,meta:{filePath:"docs/docs/index.md",updatedTime:1610603152e3,title:"Getting Started",order:1,nav:{title:"Docs",order:1,path:"/docs"},slugs:[{depth:1,value:"Welcome to dva-plus \ud83d\udc4b",heading:"welcome-to-dva-plus-"},{depth:2,value:"\u2728 Features",heading:"-features"},{depth:2,value:"Table of Contents",heading:"table-of-contents"},{depth:2,value:"\ud83d\udce6 Installation",heading:"-installation"},{depth:2,value:"\ud83d\ude80 Usage",heading:"-usage"},{depth:2,value:"\ud83d\udcd6 Documentation",heading:"-documentation"},{depth:2,value:"\ud83d\udc65 Contributing",heading:"-contributing"},{depth:2,value:"\ud83d\ude4f Show your support",heading:"-show-your-support"},{depth:2,value:"\ud83d\udcdd License",heading:"-license"}]},title:"Getting Started"},{path:"/zh-CN/docs",component:n("K8JR").default,exact:!0,meta:{filePath:"docs/docs/index.zh-CN.md",updatedTime:1610603152e3,title:"\u5feb\u901f\u4e0a\u624b",order:1,nav:{title:"\u6587\u6863",order:1,path:"/zh-CN/docs"},slugs:[{depth:1,value:"Welcome to dva-plus \ud83d\udc4b",heading:"welcome-to-dva-plus-"},{depth:2,value:"\u2728 Features",heading:"-features"},{depth:2,value:"Table of Contents",heading:"table-of-contents"},{depth:2,value:"\ud83d\udce6 Installation",heading:"-installation"},{depth:2,value:"\ud83d\ude80 Usage",heading:"-usage"},{depth:2,value:"\ud83d\udcd6 Documentation",heading:"-documentation"},{depth:2,value:"\ud83d\udc65 Contributing",heading:"-contributing"},{depth:2,value:"\ud83d\ude4f Show your support",heading:"-show-your-support"},{depth:2,value:"\ud83d\udcdd License",heading:"-license"}],locale:"zh-CN"},title:"\u5feb\u901f\u4e0a\u624b"}],title:"dva-plus",component:function(e){return e.children}}];return r["a"].applyPlugins({key:"patchRoutes",type:d["ApplyPluginsType"].event,args:{routes:e}}),e}n("1QBj");var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r["a"].applyPlugins({key:"render",type:d["ApplyPluginsType"].compose,initialValue:function(){var t=r["a"].applyPlugins({key:"modifyClientRenderOpts",type:d["ApplyPluginsType"].modify,initialValue:{routes:e.routes||m(),plugin:r["a"],history:Object(u["a"])(e.hot),isServer:Object({NODE_ENV:"production"}).__IS_SERVER,rootElement:"root",defaultTitle:"dva-plus"}});return Object(p["renderClient"])(t)},args:e})},f=h();t["default"]=f();window.g_umi={version:"3.3.7"}},sXcH:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));n("miYZ");var a,r=n("tsqr"),o=n("/7QA");a||(a={});var i="other",c=Object(o["c"])()({namespace:i,state:{count:0},reducers:[{test:function(e,t){var n=t.payload,a=t.operationType;return r["b"].info("reducers[test]: ".concat(n," ").concat(a)),e}},function(e){return console.debug("onReducer hook",e),function(t,n){var a;return(null===(a=n.type)||void 0===a?void 0:a.startsWith("".concat(i,"/")))&&(r["b"].info("onReducer-state: ".concat(JSON.stringify(t))),r["b"].info("onReducer-action: ".concat(JSON.stringify(n)))),e(t,n)}}]}),s=Object(o["f"])(c)},wLAj:function(e,t,n){"use strict";n.r(t),n.d(t,"dva",(function(){return p}));var a=n("VTBJ"),r=n("o0o1"),o=n.n(r),i=(n("2qtc"),n("kLXV")),c=(n("miYZ"),n("tsqr")),s=n("gSGL"),l=n("vJtL"),u=n("6LIB"),d=n("/7QA"),p={plugins:[Object(d["d"])({onCommands:function(e){var t=e.put,n=o.a.mark((function e(n){var a,r,d,p,m,h,f,v,g,b;return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=n.response,r=n.showSuccess,d=void 0===r||r,p=n.onSuccess,m=n.showError,h=void 0===m||m,f=n.onError,v=a.success,g=void 0!==v&&v,b=a.message,!g){e.next=19;break}if(d&&c["b"].success(b),!Object(s["a"])(p)){e.next=9;break}return e.next=7,t({type:p,payload:a});case 7:e.next=17;break;case 9:if(!Object(l["a"])(p)){e.next=14;break}return e.next=12,p(a);case 12:e.next=17;break;case 14:if(!Object(u["a"])(p)){e.next=17;break}return e.next=17,t(p,a);case 17:e.next=26;break;case 19:if(!h){e.next=23;break}i["a"].error({title:b,onOk:function(){return null===f||void 0===f?void 0:f(a)}}),e.next=26;break;case 23:if(!Object(l["a"])(f)){e.next=26;break}return e.next=26,f(a);case 26:case"end":return e.stop()}}),e)}));return Object(a["a"])(Object(a["a"])({},e),{},{showResult:n})}})]}},wkF6:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return N}));n("5NDa");var a,r,o=n("5rEg"),i=(n("+L6B"),n("2/Rp")),c=(n("/zsF"),n("PArb")),s=(n("bP8k"),n("gFTJ")),l=n("1OyB"),u=n("vuIU"),d=n("Ji7U"),p=n("LK+K"),m=n("o0o1"),h=n.n(m),f=n("HaE+"),v=(n("miYZ"),n("tsqr")),g=n("q1tI"),b=n.n(g),E=n("/MKj"),y=n("W+ks"),w=n("sXcH");console.debug("globalApi",y["b"],y["b"].addCount);var k=function(){y["b"].addCount(2)},C=function(){y["b"].count().then((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];v["b"].info("globalApi.getCount: ".concat(JSON.stringify(t)))}))},x=function(){var e=Object(f["a"])(h.a.mark((function e(){return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:y["b"].updateState({count:1,enum:"1"});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){y["b"].extraApi1()},j=function(e){y["b"].extraApi2(Number(e))},O=function(){var e=Object(f["a"])(h.a.mark((function e(){var t;return h.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y["b"].testNoGenerator(Math.round(1e3*Math.random()));case 2:t=e.sent,v["b"].info("globalApi.testNoGenerator: ".concat(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){w["b"].test("test","testType")},N=(a=Object(E["c"])((function(e){var t=e.global;return{global:t}})),a(r=function(e){Object(d["a"])(n,e);var t=Object(p["a"])(n);function n(){return Object(l["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"render",value:function(){return b.a.createElement(b.a.Fragment,null,b.a.createElement(s["b"],{bordered:!0},b.a.createElement(s["b"].Item,{label:"Model state"},JSON.stringify(this.props.global))),b.a.createElement(c["a"],{orientation:"left"},"Basic"),b.a.createElement(i["a"].Group,null,b.a.createElement(i["a"],{onClick:k},"addCount"),b.a.createElement(i["a"],{onClick:C},"showCount"),b.a.createElement(i["a"],{onClick:x},"resetCount")),b.a.createElement(c["a"],{orientation:"left"},"ExtraApi"),b.a.createElement(i["a"],{onClick:A,style:{marginRight:16}},"extraApi1"),b.a.createElement(o["a"].Search,{placeholder:"input",enterButton:"extraApi2",type:"number",onSearch:j,defaultValue:1,style:{width:300}}),b.a.createElement(c["a"],{orientation:"left"},"Others"),b.a.createElement(i["a"].Group,null,b.a.createElement(i["a"],{onClick:O},"testNoGenerator"),b.a.createElement(i["a"],{onClick:S},"testOther")))}}]),n}(g["Component"]))||r)},ytAz:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return w}));n("5NDa");var a,r,o=n("5rEg"),i=(n("+L6B"),n("2/Rp")),c=n("o0o1"),s=n.n(c),l=(n("miYZ"),n("tsqr")),u=n("HaE+"),d=(n("/zsF"),n("PArb")),p=(n("bP8k"),n("gFTJ")),m=n("1OyB"),h=n("vuIU"),f=n("Ji7U"),v=n("LK+K"),g=n("q1tI"),b=n.n(g),E=n("/MKj"),y=n("bGsh"),w=(a=Object(E["c"])((function(e){var t=e.setterGetter;return{setterGetter:t}})),a(r=function(e){Object(f["a"])(n,e);var t=Object(v["a"])(n);function n(){return Object(m["a"])(this,n),t.apply(this,arguments)}return Object(h["a"])(n,[{key:"render",value:function(){var e;return b.a.createElement(b.a.Fragment,null,b.a.createElement(p["b"],{bordered:!0},b.a.createElement(p["b"].Item,{label:"count",contentStyle:{width:"50%"}},null===(e=this.props.setterGetter)||void 0===e?void 0:e.count)),b.a.createElement(d["a"],null),b.a.createElement(i["a"],{onClick:Object(u["a"])(s.a.mark((function e(){var t;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y["a"].getCount();case 2:t=e.sent,l["b"].info(t);case 4:case"end":return e.stop()}}),e)}))),style:{marginRight:16}},"get count"),b.a.createElement(o["a"].Search,{placeholder:"random if empty",enterButton:"set count",type:"number",onSearch:function(e){var t=Number(""===e?Math.round(100*Math.random()):e);y["a"].setCount(t)},style:{width:300}}))}}]),n}(g["Component"]))||r)},zrGB:function(e,t,n){"use strict";n.r(t),t["default"]={"dumi-counter":{component:n("GHxu").default,previewerProps:{sources:{_:{tsx:"import React, { Component } from 'react';\r\nimport { connect } from 'dva';\r\nimport { api } from '../models/counter';\r\n\r\ninterface Props {\r\n  count?: number;\r\n}\r\n\r\n@connect<Props>(({ counter: { count } }) => ({ count }))\r\nexport default class extends Component<Props> {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>{this.props.count}</h2>\r\n        <button onClick={() => api.add()} data-action=\"plus\">\r\n          +\r\n        </button>\r\n        <button onClick={() => api.add(-1)} data-action=\"minus\">\r\n          -\r\n        </button>\r\n        <button onClick={() => api.reset()} data-action=\"reset\">\r\n          reset\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"},"models/counter.ts":{import:"../models/counter",content:"import { Action, createModelAndApiWith } from 'dva-plus';\n\ndeclare module 'react-redux' {\n  // Use module augmentation to append DefaultRootState's type definition\n  // ref: https://www.typescriptlang.org/docs/handbook/declaration-merging.html#module-augmentation\n  export interface DefaultRootState {\n    counter: CounterState;\n  }\n}\n\ninterface CounterState {\n  count: number;\n}\n\nexport const { model, api } = createModelAndApiWith<CounterState>()({\n  namespace: 'counter',\n  state: { count: 0 },\n  effects: {\n    reset: function* (_, { update }) {\n      yield update({ count: 0 });\n    },\n  },\n  reducers: {\n    add: (state, { payload }: Action<number | undefined>) => {\n      return { ...state, count: (state?.count || 0) + (payload || 1) };\n    },\n  },\n});\n\nexport default model;\n"}},dependencies:{react:{version:"^16.8.4"},dva:{version:"2.6.0-beta.20"},"react-dom":{version:"^16.8.4"}},title:"Basic","title.zh-CN":"\u57fa\u672c\u7528\u6cd5",motions:["autoplay",'click:[data-action="plus"]',"timeout:500",'click:[data-action="plus"]',"timeout:500",'click:[data-action="plus"]',"timeout:500",'click:[data-action="minus"]',"timeout:1000",'click:[data-action="reset"]'],description:'<div class="markdown"><p>This is a basic example of the <code>counter</code> .</p></div>',"description.zh-CN":'<div class="markdown"><p>\u8fd9\u662f <code>\u8ba1\u6570\u5668</code> \u7ec4\u4ef6\u7684\u57fa\u7840\u793a\u4f8b\u3002</p></div>',identifier:"dumi-counter"}},"dumi-complex":{component:n("wkF6").default,previewerProps:{sources:{_:{tsx:"import React, { Component } from 'react';\r\nimport { connect } from 'dva';\r\nimport { Button, Descriptions, Divider, Input, message } from 'antd';\r\nimport { DefaultRootState } from 'react-redux';\r\nimport { globalApi } from '../models/global';\r\nimport { otherApi } from '../models/other';\r\n\r\nconsole.debug('globalApi', globalApi, globalApi.addCount);\r\n\r\ninterface Props extends Partial<DefaultRootState> {}\r\n\r\nconst addCount = () => {\r\n  globalApi.addCount(2);\r\n};\r\n\r\nconst showCount = () => {\r\n  globalApi.count().then((...args) => {\r\n    message.info(`globalApi.getCount: ${JSON.stringify(args)}`);\r\n  });\r\n};\r\n\r\nconst resetCount = async () => {\r\n  globalApi.updateState({ count: 1, enum: '1' });\r\n};\r\n\r\nconst extraApi1 = () => {\r\n  globalApi.extraApi1();\r\n};\r\n\r\nconst extraApi2 = (val: string) => {\r\n  globalApi.extraApi2(Number(val));\r\n};\r\n\r\nconst testNoGenerator = async () => {\r\n  const result = await globalApi.testNoGenerator(Math.round(Math.random() * 1000));\r\n  message.info(`globalApi.testNoGenerator: ${result}`);\r\n};\r\n\r\nconst testOther = () => {\r\n  otherApi.test('test', 'testType');\r\n};\r\n\r\n@connect<Props>(({ global }) => ({ global }))\r\nexport default class extends Component<Props> {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Descriptions bordered>\r\n          <Descriptions.Item label=\"Model state\">\r\n            {JSON.stringify(this.props.global)}\r\n          </Descriptions.Item>\r\n        </Descriptions>\r\n        <Divider orientation=\"left\">Basic</Divider>\r\n        <Button.Group>\r\n          <Button onClick={addCount}>addCount</Button>\r\n          <Button onClick={showCount}>showCount</Button>\r\n          <Button onClick={resetCount}>resetCount</Button>\r\n        </Button.Group>\r\n        <Divider orientation=\"left\">ExtraApi</Divider>\r\n        <Button onClick={extraApi1} style={{ marginRight: 16 }}>\r\n          extraApi1\r\n        </Button>\r\n        <Input.Search\r\n          placeholder=\"input\"\r\n          enterButton=\"extraApi2\"\r\n          type=\"number\"\r\n          onSearch={extraApi2}\r\n          defaultValue={1}\r\n          style={{ width: 300 }}\r\n        />\r\n        <Divider orientation=\"left\">Others</Divider>\r\n        <Button.Group>\r\n          <Button onClick={testNoGenerator}>testNoGenerator</Button>\r\n          <Button onClick={testOther}>testOther</Button>\r\n        </Button.Group>\r\n      </>\r\n    );\r\n  }\r\n}\r\n"},"models/global.ts":{import:"../models/global",content:"import { Action, createModelAndApiWith } from 'dva-plus';\r\n\r\n// TODO Export these to help IDEA to resolve types\r\nexport namespace State {}\r\n\r\nexport const { model, api } = createModelAndApiWith<State>()(\r\n  {\r\n    namespace: 'global' as const,\r\n    state: { count: 0, enum: '3' },\r\n    effects: {\r\n      // use `property` not `shorthand method` to help IDEA to resolve types\r\n      count: function* (_: Action<undefined>, { state, put }) {\r\n        yield put('updateState', { enum: Math.round(Math.random() * 3).toString() as any });\r\n        const { count } = yield* state();\r\n        return count;\r\n      },\r\n      testNoGenerator: ({ payload }: Action<number | string>) => payload,\r\n    },\r\n    reducers: {\r\n      addCount: (state, { payload }: Action<number | null>) => {\r\n        return { ...state, count: (state?.count || 0) + (payload || 1) };\r\n      },\r\n    },\r\n  },\r\n  ({ dispatchApi }) => ({\r\n    extraApi1() {\r\n      const addCount = dispatchApi('addCount');\r\n      addCount(3);\r\n    },\r\n    async extraApi2(delta: number) {\r\n      const count = await api.getCount();\r\n      return api.updateState({ count: (count || 0) + delta });\r\n    },\r\n    extraApi3(delta: number) {\r\n      api.addCount(delta);\r\n      return 'haha' as const;\r\n    },\r\n  }),\r\n);\r\n\r\nexport { model as default, api as globalApi };\r\n"},"models/other.ts":{import:"../models/other",content:"import { message } from 'antd';\r\nimport { Dva, createModelWith, exportApi } from 'dva-plus';\r\n\r\n// TODO Export these to help IDEA to resolve types\r\nexport namespace State {}\r\n\r\n// Another usage\r\nconst NAMESPACE = 'other' as const;\r\nexport const model = createModelWith<State>()({\r\n  namespace: NAMESPACE,\r\n  state: { count: 0 },\r\n  reducers: [\r\n    {\r\n      test: (state, { payload, operationType }) => {\r\n        message.info(`reducers[test]: ${payload} ${operationType}`);\r\n        return state;\r\n      },\r\n    },\r\n    ((reducer) => {\r\n      console.debug('onReducer hook', reducer);\r\n      return (state, action) => {\r\n        if (action.type?.startsWith(`${NAMESPACE}/`)) {\r\n          message.info(`onReducer-state: ${JSON.stringify(state)}`);\r\n          message.info(`onReducer-action: ${JSON.stringify(action)}`);\r\n        }\r\n        return reducer(state, action);\r\n      };\r\n    }) as Dva.Hook.OnReducer<State>,\r\n  ],\r\n});\r\nexport const api = exportApi(model);\r\n\r\nexport { model as default, api as otherApi };\r\n"}},dependencies:{react:{version:">=16.9.0"},dva:{version:"2.6.0-beta.20"},antd:{version:"4.10.0",css:"antd/dist/antd.css"},"react-dom":{version:">=16.9.0"}},title:"Complex","title.zh-CN":"\u590d\u6742\u7528\u6cd5",description:'<div class="markdown"><p>This is a complex example.</p></div>',"description.zh-CN":'<div class="markdown"><p>\u8fd9\u662f\u4e00\u4e2a\u590d\u6742\u7528\u6cd5\u793a\u4f8b\u3002</p></div>',identifier:"dumi-complex"}},"dumi-settergetter":{component:n("ytAz").default,previewerProps:{sources:{_:{tsx:"import React, { Component } from 'react';\r\nimport { connect } from 'dva';\r\nimport { Button, Descriptions, Divider, Input, message } from 'antd';\r\nimport { DefaultRootState } from 'react-redux';\r\nimport { api } from '../models/setterGetter';\r\n\r\ninterface Props extends Partial<DefaultRootState> {}\r\n\r\n@connect<Props>(({ setterGetter }) => ({ setterGetter }))\r\nexport default class extends Component<Props> {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Descriptions bordered>\r\n          <Descriptions.Item label=\"count\" contentStyle={{ width: '50%' }}>\r\n            {this.props.setterGetter?.count}\r\n          </Descriptions.Item>\r\n        </Descriptions>\r\n        <Divider />\r\n        <Button\r\n          onClick={async () => {\r\n            const count = await api.getCount();\r\n            message.info(count);\r\n          }}\r\n          style={{ marginRight: 16 }}\r\n        >\r\n          get count\r\n        </Button>\r\n        <Input.Search\r\n          placeholder=\"random if empty\"\r\n          enterButton=\"set count\"\r\n          type=\"number\"\r\n          onSearch={(val: string) => {\r\n            const count = Number(val === '' ? Math.round(Math.random() * 100) : val);\r\n            api.setCount(count);\r\n          }}\r\n          style={{ width: 300 }}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n"},"models/setterGetter.ts":{import:"../models/setterGetter",content:"import { createModelAndApiWith } from 'dva-plus';\r\n\r\n// TODO Export these to help IDEA to resolve types\r\nexport namespace State {}\r\n\r\nexport const { model, api } = createModelAndApiWith<State>({ count: 0 })({\r\n  namespace: 'setterGetter' as const,\r\n});\r\n\r\nexport default model;\r\n"}},dependencies:{react:{version:">=16.9.0"},dva:{version:"2.6.0-beta.20"},antd:{version:"4.10.0",css:"antd/dist/antd.css"},"react-dom":{version:">=16.9.0"}},title:"Setters & Getters","title.zh-CN":"set/get \u8bbf\u95ee\u5668",description:'<div class="markdown"><p>use Setters &#x26; Getters to update <code>state</code> easier.</p></div>',"description.zh-CN":'<div class="markdown"><p>\u4f7f\u7528 Setter \u548c Getter \u66f4\u4fbf\u6377\u5730\u4fee\u6539 <code>state</code> \u3002</p></div>',identifier:"dumi-settergetter"}},"dumi-commands":{component:n("EK5R").default,previewerProps:{sources:{_:{tsx:'import React, { Component } from \'react\';\r\nimport { connect } from \'dva\';\r\nimport { Button, Descriptions, Divider, Switch, message } from \'antd\';\r\nimport { DefaultRootState } from \'react-redux\';\r\nimport { api } from \'../models/commands\';\r\nimport \'../app\';\r\nimport \'../types\';\r\n\r\ninterface Props extends Partial<DefaultRootState> {}\r\n\r\n@connect<Props>(({ loading, commands }) => ({ loading, commands }))\r\nexport default class extends Component<Props> {\r\n  render() {\r\n    const { loading, commands } = this.props;\r\n    const loading1 = !!loading!.models.commands;\r\n    const loading2 = !!loading!.effects[api.testSelect.actionName];\r\n    return (\r\n      <>\r\n        <Descriptions bordered>\r\n          <Descriptions.Item label="Model state">{JSON.stringify(commands)}</Descriptions.Item>\r\n          <Descriptions.Item label="Loading status">\r\n            <Switch\r\n              checked={loading1}\r\n              unCheckedChildren="model"\r\n              checkedChildren="model"\r\n              style={{ marginRight: 16, width: 80 }}\r\n            />\r\n            <Switch\r\n              checked={loading2}\r\n              unCheckedChildren="testSelect"\r\n              checkedChildren="testSelect"\r\n              style={{ width: 80 }}\r\n            />\r\n          </Descriptions.Item>\r\n        </Descriptions>\r\n        <Divider orientation="left">Basic</Divider>\r\n        <Button.Group>\r\n          <Button onClick={() => api.testPut()}>testPut</Button>\r\n          <Button onClick={() => api.testPut2()}>testPut2</Button>\r\n          <Button onClick={() => api.testCall()}>testCall</Button>\r\n          <Button onClick={() => api.testCall2()}>testCall2</Button>\r\n          <Button onClick={() => api.testSelect()}>testSelect</Button>\r\n          <Button onClick={() => api.testState().then(message.info)}>testState</Button>\r\n          <Button\r\n            onClick={() => api.testState2().then((data) => message.info(JSON.stringify(data)))}\r\n          >\r\n            testState2\r\n          </Button>\r\n          <Button onClick={() => api.testUpdate()}>testUpdate</Button>\r\n        </Button.Group>\r\n        <Divider orientation="left">Customize commands</Divider>\r\n        <Button.Group>\r\n          <Button onClick={() => api.testShowResult(true)}>testShowResult1</Button>\r\n          <Button onClick={() => api.testShowResult(false)}>testShowResult2</Button>\r\n        </Button.Group>\r\n      </>\r\n    );\r\n  }\r\n}\r\n'},"models/commands.ts":{import:"../models/commands",content:"import { Modal, message } from 'antd';\r\nimport { Action, createModelAndApiWith } from 'dva-plus';\r\nimport { BizResponse } from '@/types';\r\n\r\n// TODO Export these to help IDEA to resolve types\r\nexport namespace State {}\r\n\r\nconst sleep = (time: number) =>\r\n  new Promise<number>((resolve) => setTimeout(() => resolve(time), time * 1000));\r\n\r\nconst fakeFetch = (success: boolean): BizResponse => ({\r\n  success,\r\n  message: success ? 'success' : 'fail',\r\n  data: success ? 'this is success content' : 'this is fail content',\r\n  code: success ? '200' : '9999',\r\n});\r\n\r\nexport const { model, api } = createModelAndApiWith<State>({ count: 0 })({\r\n  namespace: 'commands' as const,\r\n  effects: {\r\n    testPut: function* (_: Action<undefined>, { put }) {\r\n      const count = Math.round(Math.random() * 1000);\r\n      yield put('updateState', { count });\r\n    },\r\n    testPut2: function* (_: Action<undefined>, { put }) {\r\n      const count = Math.round(Math.random() * 1000);\r\n      yield put({ type: 'updateState', payload: { count } });\r\n    },\r\n    testCall: function* (_: Action<undefined>, { call }) {\r\n      const a1 = yield* call(sleep, 1);\r\n      const a2 = yield call(sleep, 3);\r\n      const a3 = yield sleep(2);\r\n      message.info(`testCall: ${a1} ${a2} ${a3}`);\r\n    },\r\n    testCall2: function* (_: Action<undefined>, { call }) {\r\n      // do not use arrow function\r\n      function fn(this: any, msg: string) {\r\n        message.info(`call with context - ${msg} - ${JSON.stringify(this)}`);\r\n      }\r\n      const context = { a: 123, fn };\r\n      yield* call([context, fn], 'test1');\r\n      yield* call({ context, fn }, 'test2');\r\n      yield* call([context, 'fn'], 'test3');\r\n    },\r\n    testSelect: function* (_: Action<undefined>, { select, call }) {\r\n      const data = [];\r\n      data[0] = yield* select();\r\n      data[1] = yield* select('count');\r\n      data[2] = yield* select('a.b.c');\r\n      data[3] = yield* select<boolean>('count2'); // undefined\r\n      data[4] = yield* select('enum', 'global');\r\n      data[5] = yield* select('a.d.length', 'commands');\r\n      data[6] = yield* select('enum', 'commands'); // undefined\r\n      data[7] = yield* select<number>('enum.length', 'global');\r\n      data[8] = yield* select<string>('enum.length', 'global2'); // undefined\r\n      data[9] = yield* select((s, a: number) => {\r\n        message.info(`select func: ${a} ${JSON.stringify(s.commands)}`);\r\n        return s.global.enum;\r\n      }, 123);\r\n      message.info(`testSelect: [${data.map((t) => JSON.stringify(t)).join(', ')}]`);\r\n      yield* call(sleep, 1); // sleep for test dva-loading\r\n    },\r\n    testState: function* (_: Action<undefined>, { state }) {\r\n      const { count } = yield* state();\r\n      return count;\r\n    },\r\n    testState2: function* (_: Action<undefined>, { state }) {\r\n      yield* state<State>('commands');\r\n      return yield* state('global');\r\n    },\r\n    testUpdate: function* (_: Action<undefined>, { update }) {\r\n      const count = Math.round(Math.random() * 1000);\r\n      yield update({ count });\r\n    },\r\n    testShowResult: function* ({ payload }: Action<boolean>, { showResult }) {\r\n      const response = fakeFetch(payload);\r\n      yield showResult({\r\n        response,\r\n        showError: false,\r\n        onError({ message: title, data }) {\r\n          Modal.error({ title, content: data });\r\n        },\r\n      });\r\n    },\r\n  },\r\n});\r\n\r\nexport default model;\r\n"},"app.ts":{import:"../app",content:"import { Modal, message } from 'antd';\r\nimport { isFunction, isPlainObject, isString } from 'lodash-es';\r\nimport { Dva, enhanceModels } from 'dva-plus';\r\nimport { ShowResultCommand } from '@/types';\r\n\r\ndeclare module 'dva-plus' {\r\n  export interface ExtraEffectCommands {\r\n    showResult: ShowResultCommand;\r\n  }\r\n}\r\n\r\nexport const dva: Dva.AppConfig = {\r\n  plugins: [\r\n    // model enhancement\r\n    enhanceModels({\r\n      onCommands(commands) {\r\n        const { put } = commands;\r\n\r\n        const showResult: ShowResultCommand = function* showResultEffect({\r\n          response,\r\n          showSuccess = true,\r\n          onSuccess,\r\n          showError = true,\r\n          onError,\r\n        }) {\r\n          const { success = false, message: msg } = response;\r\n          if (success) {\r\n            if (showSuccess) {\r\n              message.success(msg);\r\n            }\r\n            if (isString(onSuccess)) {\r\n              yield put({ type: onSuccess, payload: response });\r\n            } else if (isFunction(onSuccess)) {\r\n              yield onSuccess(response);\r\n            } else if (isPlainObject(onSuccess)) {\r\n              yield put(onSuccess as any, response);\r\n            }\r\n          } else if (showError) {\r\n            Modal.error({ title: msg, onOk: () => onError?.(response) });\r\n          } else if (isFunction(onError)) {\r\n            yield onError(response);\r\n          }\r\n        };\r\n        return { ...commands, showResult };\r\n      },\r\n    }),\r\n  ],\r\n};\r\n"},"types.ts":{import:"../types",content:"import { BaseAction } from 'dva-plus';\r\n\r\nexport interface BizResponse {\r\n  success: boolean;\r\n  message?: string;\r\n  data?: any;\r\n  code: string;\r\n}\r\n\r\nexport interface ShowResultCommandOptions {\r\n  response: BizResponse;\r\n  showSuccess?: boolean;\r\n  onSuccess?: string | BaseAction | ((...args: any[]) => void);\r\n  showError?: boolean;\r\n  onError?: (res: BizResponse) => void;\r\n}\r\n\r\nexport interface ShowResultCommand {\r\n  (options: ShowResultCommandOptions): void;\r\n}\r\n"}},dependencies:{react:{version:">=16.9.0"},dva:{version:"2.6.0-beta.20"},antd:{version:"4.10.0",css:"antd/dist/antd.css"},"react-dom":{version:">=16.9.0"},"lodash-es":{version:"4.17.20"}},title:"Commands","title.zh-CN":"\u5185\u7f6e\u547d\u4ee4",description:'<div class="markdown"><p>use effect\'s <code>commands</code> to handle common logic. ( refer <a href="https://redux-saga.js.org/docs/api/" target="_blank">redux-saga docs<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> )</p></div>',"description.zh-CN":'<div class="markdown"><p>\u4f7f\u7528 effect \u63d0\u4f9b\u7684 <code>commands</code> \u6765\u5904\u7406\u901a\u7528\u903b\u8f91\u3002\uff08\u53c2\u8003 <a href="https://redux-saga.js.org/docs/api/" target="_blank">redux-saga \u6587\u6863<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>\uff09</p></div>',identifier:"dumi-commands"}},"dumi-subscriptions":{component:n("cXEf").default,previewerProps:{sources:{_:{tsx:"import '../models/subscriptions';\n\nexport default () => 'View logs in DevTools';\n"},"models/subscriptions.ts":{import:"../models/subscriptions",content:"import { createModel, enhanceSubscriptions } from 'dva-plus';\r\n\r\nexport default createModel({\r\n  namespace: 'subscriptions' as const,\r\n  subscriptions: enhanceSubscriptions({\r\n    // use `property` not `shorthand method` to help IDEA to resolve types\r\n    setup: ({ dispatch, history, listen }, onError) => {\r\n      onError('test Error', { data: 'test' });\r\n      listen('/:path*', ({ query, params }) => {\r\n        if (!console.groupCollapsed) return;\r\n\r\n        console.groupCollapsed(`subscriptions: /${params.path || ''}`);\r\n        console.log(history, query);\r\n        console.groupEnd();\r\n      });\r\n\r\n      listen('/user/list', { type: 'fetchUsers' });\r\n      listen('/user/:id', { type: 'fetchUser' });\r\n      listen('/user/query', ({ params }) => {\r\n        dispatch({ type: 'fetchUsers', payload: params });\r\n      });\r\n      listen({\r\n        '/user/list': () => {},\r\n        '/user/query': () => {},\r\n      });\r\n    },\r\n  }),\r\n});\r\n"}},dependencies:{},title:"Subscriptions","title.zh-CN":"\u8def\u7531\u53d8\u5316\u8ba2\u9605",description:'<div class="markdown"><p>support the <code>listen</code> method to monitor routing changes easier.</p></div>',"description.zh-CN":'<div class="markdown"><p>\u63d0\u4f9b <code>listen</code> \u65b9\u6cd5\u4ee5\u66f4\u5bb9\u6613\u5730\u76d1\u89c6\u8def\u7531\u7684\u53d8\u5316\u3002</p></div>',identifier:"dumi-subscriptions"}}}}});